## å¿«é€Ÿæ’åº

```C++
void quick_sort(int l,int r){
    if(l>=r) return ;
    int x=a[(l+r)>>1] ,i=l-1,j=r+1;
    while(i<j){
        while(a[++i]<x);
        while(x<a[--j]);
        if(i<j) swap(a[i],a[j]);
    }
    quick_sort(l,j);
    quick_sort(j+1,r);
}
```

## å½’å¹¶æ’åº

```C++
void merge_sort(int l,int r){
    if(l>=r) return ;
    int mid=(l+r)>>1,i=l,j=mid+1,k=0;
    merge_sort(l,mid),merge_sort(mid+1,r);
    while(i<=mid && j<=r){
        if(a[i]<a[j]) tmp[k++] = a[i++];
        else tmp[k++]=a[j++];
    }
    while(i<=mid) tmp[k++]=a[i++];
    while(j<=r) tmp[k++]=a[j++];
    for(int i=l,k=0;i<=r;) a[i++]=tmp[k++];
}
```

## æ•´æ•°äºŒåˆ†ç®—æ³•

```C++
bool check(int x) {/* ... */} // æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨

// åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid]å’Œ[mid + 1, r]æ—¶ä½¿ç”¨ï¼š
int bsearch_1(int l, int r)
{
    while (l < r)
    {
        int mid = l + r >> 1;
        if (check(mid)) r = mid;    // check()åˆ¤æ–­midæ˜¯å¦æ»¡è¶³æ€§è´¨
        else l = mid + 1;
    }
    return l;
}
// åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid - 1]å’Œ[mid, r]æ—¶ä½¿ç”¨ï¼š
int bsearch_2(int l, int r)
{
    while (l < r)
    {
        int mid = l + r + 1 >> 1;
        if (check(mid)) l = mid;
        else r = mid - 1;
    }
    return l;
}
```

## æµ®ç‚¹æ•°äºŒåˆ†ç®—æ³•

```C++
bool check(double x) {/* ... */} // æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨

double bsearch_3(double l, double r)
{
    const double eps = 1e-6;   // eps è¡¨ç¤ºç²¾åº¦ï¼Œå–å†³äºé¢˜ç›®å¯¹ç²¾åº¦çš„è¦æ±‚
    while (r - l > eps)
    {
        double mid = (l + r) / 2;
        if (check(mid)) r = mid;
        else l = mid;
    }
    return l;
}
```

## é«˜ç²¾åº¦åŠ æ³•

```C++
// C = A + B, A >= 0, B >= 0
vector<int> add(vector<int> &A, vector<int> &B)
{
    if (A.size() < B.size()) return add(B, A);

    vector<int> C;
    int t = 0;
    for (int i = 0; i < A.size(); i ++ )
    {
        t += A[i];
        if (i < B.size()) t += B[i];
        C.push_back(t % 10);
        t /= 10;
    }

    if (t) C.push_back(t);
    return C;
}
```

## é«˜ç²¾åº¦å‡æ³•

```C++
vector<int> sub(vector<int> &A, vector<int> &B)
{
    vector<int> C;
    for (int i = 0, t = 0; i < A.size(); i ++ )
    {
        t = A[i] - t;
        if (i < B.size()) t -= B[i];
        C.push_back((t + 10) % 10);
        if (t < 0) t = 1;
        else t = 0;
    }

    while (C.size() > 1 && C.back() == 0) C.pop_back();
    return C;
}
```

## é«˜ç²¾åº¦ä¹˜ä½ç²¾åº¦

```C++
// C = A * b, A >= 0, b >= 0
vector<int> mul(vector<int> &A, int b)
{
    vector<int> C;

    int t = 0;
    for (int i = 0; i < A.size() || t; i ++ )
    {
        if (i < A.size()) t += A[i] * b;
        C.push_back(t % 10);
        t /= 10;
    }

    while (C.size() > 1 && C.back() == 0) C.pop_back();

    return C;
}
```

## é«˜ç²¾åº¦é™¤ä»¥ä½ç²¾åº¦

```C++
// A / b = C ... r, A >= 0, b > 0
vector<int> div(vector<int> &A, int b, int &r)
{
    vector<int> C;
    r = 0;
    for (int i = A.size() - 1; i >= 0; i -- )
    {
        r = r * 10 + A[i];
        C.push_back(r / b);
        r %= b;
    }
    reverse(C.begin(), C.end());
    while (C.size() > 1 && C.back() == 0) C.pop_back();
    return C;
}
```

## ä¸€ç»´å‰ç¼€å’Œ

```C++
S[i] = a[1] + a[2] + ... a[i]
a[l] + ... + a[r] = S[r] - S[l - 1]
```

## äºŒç»´å‰ç¼€å’Œ

```c++
S[i, j] = ç¬¬iè¡Œjåˆ—æ ¼å­å·¦ä¸Šéƒ¨åˆ†æ‰€æœ‰å…ƒç´ çš„å’Œ
ä»¥(x1, y1)ä¸ºå·¦ä¸Šè§’ï¼Œ(x2, y2)ä¸ºå³ä¸‹è§’çš„å­çŸ©é˜µçš„å’Œä¸ºï¼š
S[x2, y2] - S[x1 - 1, y2] - S[x2, y1 - 1] + S[x1 - 1, y1 - 1]
```

## ä¸€ç»´å·®åˆ†

```C++
ç»™åŒºé—´[l, r]ä¸­çš„æ¯ä¸ªæ•°åŠ ä¸Šcï¼šB[l] += c, B[r + 1] -= c
```

## äºŒç»´å·®åˆ†

```C++
ç»™ä»¥(x1, y1)ä¸ºå·¦ä¸Šè§’ï¼Œ(x2, y2)ä¸ºå³ä¸‹è§’çš„å­çŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ åŠ ä¸Šcï¼š
S[x1, y1] += c, S[x2 + 1, y1] -= c, S[x1, y2 + 1] -= c, S[x2 + 1, y2 + 1] += c
```

## ä½è¿ç®—

```c++
æ±‚nçš„ç¬¬kä½æ•°å­—: n >> k & 1
è¿”å›nçš„æœ€åä¸€ä½1ï¼šlowbit(n) = n & -n
```

## ç¦»æ•£åŒ–

```c++
vector<int> alls; // å­˜å‚¨æ‰€æœ‰å¾…ç¦»æ•£åŒ–çš„å€¼
sort(alls.begin(), alls.end()); // å°†æ‰€æœ‰å€¼æ’åº
alls.erase(unique(alls.begin(), alls.end()), alls.end());   // å»æ‰é‡å¤å…ƒç´ 

// äºŒåˆ†æ±‚å‡ºxå¯¹åº”çš„ç¦»æ•£åŒ–çš„å€¼
int find(int x) // æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºç­‰äºxçš„ä½ç½®
{
    int l = 0, r = alls.size() - 1;
    while (l < r)
    {
        int mid = l + r >> 1;
        if (alls[mid] >= x) r = mid;
        else l = mid + 1;
    }
    return r + 1; // æ˜ å°„åˆ°1, 2, ...n
}
```

## åŒºé—´åˆå¹¶

```c++
// å°†æ‰€æœ‰å­˜åœ¨äº¤é›†çš„åŒºé—´åˆå¹¶
void merge(vector<PII> &segs)
{
    vector<PII> res;

    sort(segs.begin(), segs.end());

    int st = -2e9, ed = -2e9;
    for (auto seg : segs)
        if (ed < seg.first)
        {
            if (st != -2e9) res.push_back({st, ed});
            st = seg.first, ed = seg.second;
        }
        else ed = max(ed, seg.second);

    if (st != -2e9) res.push_back({st, ed});

    segs = res;
}
```

## å•é“¾è¡¨

```C++
// headå­˜å‚¨é“¾è¡¨å¤´ï¼Œe[]å­˜å‚¨èŠ‚ç‚¹çš„å€¼ï¼Œne[]å­˜å‚¨èŠ‚ç‚¹çš„nextæŒ‡é’ˆï¼Œidxè¡¨ç¤ºå½“å‰ç”¨åˆ°äº†å“ªä¸ªèŠ‚ç‚¹
int head, e[N], ne[N], idx;

// åˆå§‹åŒ–
void init()
{
    head = -1;
    idx = 0;
}

// åœ¨é“¾è¡¨å¤´æ’å…¥ä¸€ä¸ªæ•°a
void insert(int a)
{
    e[idx] = a, ne[idx] = head, head = idx ++ ;
}

// å°†å¤´ç»“ç‚¹åˆ é™¤ï¼Œéœ€è¦ä¿è¯å¤´ç»“ç‚¹å­˜åœ¨
void remove()
{
    head = ne[head];
}
```

## åŒé“¾è¡¨

```C++
// e[]è¡¨ç¤ºèŠ‚ç‚¹çš„å€¼ï¼Œl[]è¡¨ç¤ºèŠ‚ç‚¹çš„å·¦æŒ‡é’ˆï¼Œr[]è¡¨ç¤ºèŠ‚ç‚¹çš„å³æŒ‡é’ˆï¼Œidxè¡¨ç¤ºå½“å‰ç”¨åˆ°äº†å“ªä¸ªèŠ‚ç‚¹
int e[N], l[N], r[N], idx;

// åˆå§‹åŒ–
void init()
{
    //0æ˜¯å·¦ç«¯ç‚¹ï¼Œ1æ˜¯å³ç«¯ç‚¹
    r[0] = 1, l[1] = 0;
    idx = 2;
}

// åœ¨èŠ‚ç‚¹açš„å³è¾¹æ’å…¥ä¸€ä¸ªæ•°x
void insert(int a, int x)
{
    e[idx] = x;
    l[idx] = a, r[idx] = r[a];
    l[r[a]] = idx, r[a] = idx ++ ;
}

// åˆ é™¤èŠ‚ç‚¹a
void remove(int a)
{
    l[r[a]] = l[a];
    r[l[a]] = r[a];
}
```

## æ ˆ

```C++
// ttè¡¨ç¤ºæ ˆé¡¶
int stk[N], tt = 0;

// å‘æ ˆé¡¶æ’å…¥ä¸€ä¸ªæ•°
stk[ ++ tt] = x;

// ä»æ ˆé¡¶å¼¹å‡ºä¸€ä¸ªæ•°
tt -- ;

// æ ˆé¡¶çš„å€¼
stk[tt];

// åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœ tt > 0ï¼Œåˆ™è¡¨ç¤ºä¸ä¸ºç©º
if (tt > 0)
{

}
```

## é˜Ÿåˆ—

### æ™®é€šé˜Ÿåˆ—

```C++
// hh è¡¨ç¤ºé˜Ÿå¤´ï¼Œttè¡¨ç¤ºé˜Ÿå°¾
int q[N], hh = 0, tt = -1;

// å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªæ•°
q[ ++ tt] = x;

// ä»é˜Ÿå¤´å¼¹å‡ºä¸€ä¸ªæ•°
hh ++ ;

// é˜Ÿå¤´çš„å€¼
q[hh];

// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœ hh <= ttï¼Œåˆ™è¡¨ç¤ºä¸ä¸ºç©º
if (hh <= tt)
{

}
```

### å¾ªç¯é˜Ÿåˆ—

```C++
// hh è¡¨ç¤ºé˜Ÿå¤´ï¼Œttè¡¨ç¤ºé˜Ÿå°¾çš„åä¸€ä¸ªä½ç½®
int q[N], hh = 0, tt = 0;

// å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªæ•°
q[tt ++ ] = x;
if (tt == N) tt = 0;

// ä»é˜Ÿå¤´å¼¹å‡ºä¸€ä¸ªæ•°
hh ++ ;
if (hh == N) hh = 0;

// é˜Ÿå¤´çš„å€¼
q[hh];

// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœhh != ttï¼Œåˆ™è¡¨ç¤ºä¸ä¸ºç©º
if (hh != tt)
{

}

```

## å•è°ƒæ ˆ

```C++
å¸¸è§æ¨¡å‹ï¼šæ‰¾å‡ºæ¯ä¸ªæ•°å·¦è¾¹ç¦»å®ƒæœ€è¿‘çš„æ¯”å®ƒå¤§/å°çš„æ•°
int tt = 0;
for (int i = 1; i <= n; i ++ )
{
    while (tt && check(stk[tt], i)) tt -- ;
    stk[ ++ tt] = i;
}
```

## å•è°ƒé˜Ÿåˆ—

```C++
å¸¸è§æ¨¡å‹ï¼šæ‰¾å‡ºæ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼/æœ€å°å€¼
int hh = 0, tt = -1;
for (int i = 0; i < n; i ++ )
{
    while (hh <= tt && check_out(q[hh])) hh ++ ;  // åˆ¤æ–­é˜Ÿå¤´æ˜¯å¦æ»‘å‡ºçª—å£
    while (hh <= tt && check(q[tt], i)) tt -- ;
    q[ ++ tt] = i;
}
```

## KMP

```C++
// s[]æ˜¯é•¿æ–‡æœ¬ï¼Œp[]æ˜¯æ¨¡å¼ä¸²ï¼Œnæ˜¯sçš„é•¿åº¦ï¼Œmæ˜¯pçš„é•¿åº¦
æ±‚æ¨¡å¼ä¸²çš„Nextæ•°ç»„ï¼š
for (int i = 2, j = 0; i <= m; i ++ )
{
    while (j && p[i] != p[j + 1]) j = ne[j];
    if (p[i] == p[j + 1]) j ++ ;
    ne[i] = j;
}

// åŒ¹é…
for (int i = 1, j = 0; i <= n; i ++ )
{
    while (j && s[i] != p[j + 1]) j = ne[j];
    if (s[i] == p[j + 1]) j ++ ;
    if (j == m)
    {
        j = ne[j];
        // åŒ¹é…æˆåŠŸåçš„é€»è¾‘
    }
}
```

## Trieæ ‘ 

```C++
int son[N][26], cnt[N], idx;
// 0å·ç‚¹æ—¢æ˜¯æ ¹èŠ‚ç‚¹ï¼Œåˆæ˜¯ç©ºèŠ‚ç‚¹
// son[][]å­˜å‚¨æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹
// cnt[]å­˜å‚¨ä»¥æ¯ä¸ªèŠ‚ç‚¹ç»“å°¾çš„å•è¯æ•°é‡

// æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸²
void insert(char *str)
{
    int p = 0;
    for (int i = 0; str[i]; i ++ )
    {
        int u = str[i] - 'a';
        if (!son[p][u]) son[p][u] = ++ idx;
        p = son[p][u];
    }
    cnt[p] ++ ;
}

// æŸ¥è¯¢å­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•°
int query(char *str)
{
    int p = 0;
    for (int i = 0; str[i]; i ++ )
    {
        int u = str[i] - 'a';
        if (!son[p][u]) return 0;
        p = son[p][u];
    }
    return cnt[p];
}
```

## å¹¶æŸ¥é›†

```C++
(1)æœ´ç´ å¹¶æŸ¥é›†ï¼š

    int p[N]; //å­˜å‚¨æ¯ä¸ªç‚¹çš„ç¥–å®—èŠ‚ç‚¹

    // è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹
    int find(int x)
    {
        if (p[x] != x) p[x] = find(p[x]);
        return p[x];
    }

    // åˆå§‹åŒ–ï¼Œå‡å®šèŠ‚ç‚¹ç¼–å·æ˜¯1~n
    for (int i = 1; i <= n; i ++ ) p[i] = i;

    // åˆå¹¶aå’Œbæ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆï¼š
    p[find(a)] = find(b);


(2)ç»´æŠ¤sizeçš„å¹¶æŸ¥é›†ï¼š

    int p[N], size[N];
    //p[]å­˜å‚¨æ¯ä¸ªç‚¹çš„ç¥–å®—èŠ‚ç‚¹, size[]åªæœ‰ç¥–å®—èŠ‚ç‚¹çš„æœ‰æ„ä¹‰ï¼Œè¡¨ç¤ºç¥–å®—èŠ‚ç‚¹æ‰€åœ¨é›†åˆä¸­çš„ç‚¹çš„æ•°é‡

    // è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹
    int find(int x)
    {
        if (p[x] != x) p[x] = find(p[x]);
        return p[x];
    }

    // åˆå§‹åŒ–ï¼Œå‡å®šèŠ‚ç‚¹ç¼–å·æ˜¯1~n
    for (int i = 1; i <= n; i ++ )
    {
        p[i] = i;
        size[i] = 1;
    }

    // åˆå¹¶aå’Œbæ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆï¼š
    size[find(b)] += size[find(a)];
    p[find(a)] = find(b);


(3)ç»´æŠ¤åˆ°ç¥–å®—èŠ‚ç‚¹è·ç¦»çš„å¹¶æŸ¥é›†ï¼š

    int p[N], d[N];
    //p[]å­˜å‚¨æ¯ä¸ªç‚¹çš„ç¥–å®—èŠ‚ç‚¹, d[x]å­˜å‚¨xåˆ°p[x]çš„è·ç¦»

    // è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹
    int find(int x)
    {
        if (p[x] != x)
        {
            int u = find(p[x]);
            d[x] += d[p[x]];
            p[x] = u;
        }
        return p[x];
    }

    // åˆå§‹åŒ–ï¼Œå‡å®šèŠ‚ç‚¹ç¼–å·æ˜¯1~n
    for (int i = 1; i <= n; i ++ )
    {
        p[i] = i;
        d[i] = 0;
    }

    // åˆå¹¶aå’Œbæ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆï¼š
    p[find(a)] = find(b);
    d[find(a)] = distance; // æ ¹æ®å…·ä½“é—®é¢˜ï¼Œåˆå§‹åŒ–find(a)çš„åç§»é‡
```

## å †

```C++
// h[N]å­˜å‚¨å †ä¸­çš„å€¼, h[1]æ˜¯å †é¡¶ï¼Œxçš„å·¦å„¿å­æ˜¯2x, å³å„¿å­æ˜¯2x + 1
// ph[k]å­˜å‚¨ç¬¬kä¸ªæ’å…¥çš„ç‚¹åœ¨å †ä¸­çš„ä½ç½®
// hp[k]å­˜å‚¨å †ä¸­ä¸‹æ ‡æ˜¯kçš„ç‚¹æ˜¯ç¬¬å‡ ä¸ªæ’å…¥çš„
int h[N], ph[N], hp[N], size;

// äº¤æ¢ä¸¤ä¸ªç‚¹ï¼ŒåŠå…¶æ˜ å°„å…³ç³»
void heap_swap(int a, int b)
{
    swap(ph[hp[a]],ph[hp[b]]);
    swap(hp[a], hp[b]);
    swap(h[a], h[b]);
}

void down(int u)
{
    int t = u;
    if (u * 2 <= size && h[u * 2] < h[t]) t = u * 2;
    if (u * 2 + 1 <= size && h[u * 2 + 1] < h[t]) t = u * 2 + 1;
    if (u != t)
    {
        heap_swap(u, t);
        down(t);
    }
}

void up(int u)
{
    while (u / 2 && h[u] < h[u / 2])
    {
        heap_swap(u, u / 2);
        u >>= 1;
    }
}

// O(n)å»ºå †
for (int i = n / 2; i; i -- ) down(i);
```

## å­—ç¬¦ä¸²å“ˆå¸Œ

```C++
æ ¸å¿ƒæ€æƒ³ï¼šå°†å­—ç¬¦ä¸²çœ‹æˆPè¿›åˆ¶æ•°ï¼ŒPçš„ç»éªŒå€¼æ˜¯131æˆ–13331ï¼Œå–è¿™ä¸¤ä¸ªå€¼çš„å†²çªæ¦‚ç‡ä½
å°æŠ€å·§ï¼šå–æ¨¡çš„æ•°ç”¨2^64ï¼Œè¿™æ ·ç›´æ¥ç”¨unsigned long longå­˜å‚¨ï¼Œæº¢å‡ºçš„ç»“æœå°±æ˜¯å–æ¨¡çš„ç»“æœ

typedef unsigned long long ULL;
ULL h[N], p[N]; // h[k]å­˜å‚¨å­—ç¬¦ä¸²å‰kä¸ªå­—æ¯çš„å“ˆå¸Œå€¼, p[k]å­˜å‚¨ P^k mod 2^64

// åˆå§‹åŒ–
p[0] = 1;
for (int i = 1; i <= n; i ++ )
{
    h[i] = h[i - 1] * P + str[i];
    p[i] = p[i - 1] * P;
}

// è®¡ç®—å­ä¸² str[l ~ r] çš„å“ˆå¸Œå€¼
ULL get(int l, int r)
{
    return h[r] - h[l - 1] * p[r - l + 1];
}
```

## n-çš‡åé—®é¢˜

```c++
char g[N][N];
bool col[N], dg[N], udg[N];  // colåˆ—ï¼Œdgå¯¹è§’çº¿ï¼Œudgåå¯¹è§’çº¿
void dfs(int u) {
    if (u == n) {  // u == n è¡¨ç¤ºå·²ç»æœäº†nè¡Œï¼Œæ•…è¾“å‡ºè¿™æ¡è·¯å¾„
        for (int i = 0; i < n; i ++ ) puts(g[i]);   // ç­‰ä»·äºcout << g[i] << endl;
        puts("");  // æ¢è¡Œ
        return;
    }
    int x = u;  // æšä¸¾uè¿™ä¸€è¡Œï¼Œæœç´¢åˆæ³•çš„åˆ—
    for (int y = 0; y < n; y ++ )
        // å‰ªæ(å¯¹äºä¸æ»¡è¶³è¦æ±‚çš„ç‚¹ï¼Œä¸å†ç»§ç»­å¾€ä¸‹æœç´¢)  
        if (col[y] == false && dg[y - x + n] == false && udg[y + x] == false) {
            col[y] = dg[y - x + n] = udg[y + x] = true;
            g[x][y] = 'Q';
            dfs(x + 1);
            g[x][y] = '.';  // æ¢å¤ç°åœº
            col[y] = dg[y - x + n] = udg[y + x] = false;
        }
}
int main() {
    cin >> n;
    for (int i = 0; i < n; i ++ )
        for (int j = 0; j < n; j ++ )
            g[i][j] = '.';
    dfs(0);
    return 0;
}   
```

### èµ°è¿·å®«

```c++
void bfs(){
    memset(d,0x3f,sizeof d);  queue<PII> q;   q.push({1,1});   d[1][1]=0;
    while(q.size()){
        auto t=q.front();   q.pop();
        for(int i=0;i<4;i++){
            int x=t.first +dx[i] ,y=t.second + dy[i];
            if(1<=x && x<=n && 1<=y && y<=m && !g[x][y] && d[x][y]==0x3f3f3f3f){ 
                d[x][y]=d[t.first][t.second]+1;
                q.push({x,y});
            }
        }
    }
    cout<<d[n][m]<<endl;
}
```

#### å…«æ•°ç 

```c++
queue<string> q;    string s;    unordered_map<string, int> h; // ä¿å­˜åºåˆ—ä¸å¯¹åº”çš„äº¤æ¢æ¬¡æ•°
    // ä¿å­˜åˆå§‹çŠ¶æ€
    h[s] = 0;  q.push(s);   // ä¾æ¬¡è¿›è¡Œäº¤æ¢
    while(!q.empty())
    { // è·å¾—å½“å‰åºåˆ—
        string t = q.front(); q.pop();
        // å¦‚æœæ˜¯æœ€åç»“æœï¼Œè¾“å‡ºç­”æ¡ˆ
        if(t == "12345678x")
        {   cout << h[t] << endl;
            return 0; }
        // æ‰¾åˆ° x çš„ä½ç½®
        int pos = t.find('x');   // è®¡ç®— x çš„åæ ‡
        int a = pos /3 , b = pos % 3 ;  // è·å–å½“å‰åºåˆ—å¯¹åº”çš„äº¤æ¢æ¬¡æ•°
        int dist = h[t];   // å°è¯•å’Œå››ä¸ªæ–¹å‘çš„å…ƒç´ è¿›è¡Œäº¤æ¢
        for(int i = 0; i < 4; i++)
        {   int x = a + dx[i], y = b + dy[i];    // åˆ¤æ–­æ˜¯å¦è¶Šç•Œ
            if(x >= 0 && x <= 2 && y >= 0 && y <= 2)
            {    // äº¤æ¢
                swap(t[pos], t[3 * x + y]); // å¦‚æœæ˜¯ä¸ªæ–°åºåˆ—ï¼Œå°±ä¿å­˜æ–°åºåˆ—å’Œå¯¹åº”çš„äº¤æ¢æ¬¡æ•°
                if(h.find(t) == h.end())
                {   h[t] = dist + 1;
                    q.push(t); }
                // æ¢å¤ç°åœºï¼Œè¿›è¡Œä¸‹ä¸€ä¸ªæ–¹å‘çš„äº¤æ¢
                swap(t[pos], t[3 * x + y]);
            }
        }
    }
    // æ²¡æœ‰å¾—åˆ°ç»“æœåºåˆ—ï¼Œè¾“å‡º-1
    cout << -1;
    return 0;
}
```

### æ ‘çš„é‡å¿ƒ

```c++
int dfs(int u) {//è¿”å›ä»¥uä¸ºæ ¹çš„å­æ ‘ä¸­èŠ‚ç‚¹çš„ä¸ªæ•°ï¼ŒåŒ…æ‹¬uèŠ‚ç‚¹
    int res = 0; //å­˜å‚¨ åˆ æ‰æŸä¸ªèŠ‚ç‚¹ä¹‹åï¼Œæœ€å¤§çš„è¿é€šå­å›¾èŠ‚ç‚¹æ•°
    st[u] = true; //æ ‡è®°è®¿é—®è¿‡uèŠ‚ç‚¹
    int sum = 1; //å­˜å‚¨ ä»¥uä¸ºæ ¹çš„æ ‘ çš„èŠ‚ç‚¹æ•°, åŒ…æ‹¬uï¼Œå¦‚å›¾ä¸­çš„4å·èŠ‚ç‚¹
    //è®¿é—®uçš„æ¯ä¸ªå­èŠ‚ç‚¹
    for (int i = h[u]; i != -1; i = ne[i]) {
        int j = e[i];
        //å› ä¸ºæ¯ä¸ªèŠ‚ç‚¹çš„ç¼–å·éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥ ç”¨ç¼–å·ä¸ºä¸‹æ ‡ æ¥æ ‡è®°æ˜¯å¦è¢«è®¿é—®è¿‡
        if (!st[j]) {
            int s = dfs(j);  // uèŠ‚ç‚¹çš„å•æ£µå­æ ‘èŠ‚ç‚¹æ•° å¦‚å›¾ä¸­çš„sizeå€¼
            res = max(res, s); // è®°å½•æœ€å¤§è”é€šå­å›¾çš„èŠ‚ç‚¹æ•°
            sum += s; //ä»¥jä¸ºæ ¹çš„æ ‘ çš„èŠ‚ç‚¹æ•°
        }
    }
    res = max(res, n - sum); // é€‰æ‹©uèŠ‚ç‚¹ä¸ºé‡å¿ƒï¼Œæœ€å¤§çš„ è¿é€šå­å›¾èŠ‚ç‚¹æ•°
    ans = min(res, ans); //éå†è¿‡çš„å‡è®¾é‡å¿ƒä¸­ï¼Œæœ€å°çš„æœ€å¤§è”é€šå­å›¾çš„ èŠ‚ç‚¹æ•°
    return sum;
}
```

#### å›¾ä¸­ç‚¹çš„å±‚æ¬¡

```c++
void bfs(){
    memset(h,-1,sizeof h);    memset(d,0x3f,sizeof d);   d[1]=0;  queue<int>q;   q.push(1); st[1]=true;  
    while(q.size()){
        int t=q.front();  q.pop(); 
        for(int i=h[t];i!=-1;i=ne[i]){
            int j=e[i];
            if(!st[j]){
                st[j]=true;   d[j]=d[t]+1;   q.push(j);
            }
        }
    }
    if(d[n]==0x3f3f3f3f) cout<<-1<<endl;
    else cout<<d[n]<<endl;
}
```

#### æœ‰å‘å›¾çš„æ‹“æ‰‘åºåˆ—

```c++
void bfs(){
    memset(h,-1,sizeof h);  queue<int>q;
    for(int i=1;i<=n;i++)
        if(de[i]==0) q.push(i);  //å°†å…¥åº¦ä¸ºé›¶çš„ç‚¹å…¥é˜Ÿ
    
    while(q.size()){
        int t=q.front();   q.pop();  path[cnt++]=t;
        for(int i=h[t];i!=-1;i=ne[i]){
            int j=e[i];   de[j]--; //åˆ é™¤ç‚¹tæŒ‡å‘ç‚¹jçš„è¾¹
            if(de[j]==0){  //å¦‚æœç‚¹jçš„å…¥åº¦ä¸ºé›¶äº†,å°±å°†ç‚¹jå…¥é˜Ÿ
                q.push(j);
            }
        }
    }
    if(cnt==n)   //è¡¨ç¤ºå¦‚æœnä¸ªç‚¹éƒ½å…¥é˜Ÿäº†è¯,é‚£ä¹ˆè¯¥å›¾ä¸ºæ‹“æ‰‘å›¾,è¿”å›true,å¦åˆ™è¿”å›false
        for(int i=0;i<n;i++) cout<<path[i]<<" ";  
}
```

## dijkstraç®—æ³•â€”â€”ç¨ å¯†å›¾

æ—¶é—´å¤æ‚åº¦ä¸º$O(n^2+m)$ï¼Œ$n$è¡¨ç¤ºç‚¹æ•°ï¼Œ$m$è¡¨ç¤ºè¾¹æ•°

```C++
int g[N][N];  // å­˜å‚¨æ¯æ¡è¾¹
int dist[N];  // å­˜å‚¨1å·ç‚¹åˆ°æ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»
bool st[N];   // å­˜å‚¨æ¯ä¸ªç‚¹çš„æœ€çŸ­è·¯æ˜¯å¦å·²ç»ç¡®å®š
// æ±‚1å·ç‚¹åˆ°nå·ç‚¹çš„æœ€çŸ­è·¯ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›-1
int dijkstra()
{   memset(g,0x3f,sizeof g);   //   g[x][y]=min(g[x][y],z);
    memset(dist, 0x3f, sizeof dist);
    dist[1] = 0;
    for (int i = 0; i < n - 1; i ++ )
    {   int t = -1;     // åœ¨è¿˜æœªç¡®å®šæœ€çŸ­è·¯çš„ç‚¹ä¸­ï¼Œå¯»æ‰¾è·ç¦»æœ€å°çš„ç‚¹
        for (int j = 1; j <= n; j ++ )
            if (!st[j] && (t == -1 || dist[t] > dist[j]))   t = j;
     
        for (int j = 1; j <= n; j ++ )   // ç”¨tæ›´æ–°å…¶ä»–ç‚¹çš„è·ç¦»
            dist[j] = min(dist[j], dist[t] + g[t][j]);
        st[t] = true;
    }
    if (dist[n] == 0x3f3f3f3f) return -1;
    return dist[n];
}
```

## å †ä¼˜åŒ–ç‰ˆdijkstraâ€”â€”ç¨€ç–å›¾

æ—¶é—´å¤æ‚åº¦ä¸º$O(mlogm)$ï¼Œ$n$è¡¨ç¤ºç‚¹æ•°ï¼Œ$m$è¡¨ç¤ºè¾¹æ•°ã€‚ä¼˜å…ˆé˜Ÿåˆ—ä¿å­˜çš„æ˜¯å½“å‰æœªç¡®å®šæœ€å°è·ç¦»çš„ç‚¹ï¼Œç›®çš„æ˜¯å¿«é€Ÿçš„å–å‡ºå½“å‰åˆ°æºç‚¹è·ç¦»æœ€å°çš„ç‚¹

```C++
int dijkstra(){
    memset(dist, 0x3f, sizeof dist);
    dist[1] = 0;
    priority_queue<PII, vector<PII>, greater<PII>> heap;
    heap.push({0, 1});      // firstå­˜å‚¨è·ç¦»ï¼Œsecondå­˜å‚¨èŠ‚ç‚¹ç¼–å·

    while (heap.size()){
        auto t = heap.top();  heap.pop();  int ver = t.second, distance = t.first;
        if (st[ver]) continue;//å¦‚æœè·ç¦»å·²ç»ç¡®å®šï¼Œåˆ™è·³è¿‡è¯¥ç‚¹
        st[ver] = true;
        for (int i = h[ver]; i != -1; i = ne[i]){//æ›´æ–°veræ‰€æŒ‡å‘çš„èŠ‚ç‚¹è·ç¦»
            int j = e[i];
            if (dist[j] > distance + w[i]) { //æ¾å¼›æ“ä½œ
                dist[j] = distance + w[i];   heap.push({dist[j], j});
            }
        }
    }
    if (dist[n] == 0x3f3f3f3f) return -1;
    return dist[n];
}
```

## Bellman-Fordâ€”â€”æœ‰è¾¹æ•°Ké™åˆ¶çš„æœ€çŸ­è·¯[å¯ä»¥æœ‰è´Ÿæƒè¾¹]

æ—¶é—´å¤æ‚åº¦ä¸º$O(mn)$ï¼Œ$n$è¡¨ç¤ºç‚¹æ•°ï¼Œ$m$è¡¨ç¤ºè¾¹æ•°

```C++
int back[N];//å¤‡ä»½æ•°ç»„é˜²æ­¢ä¸²è”
int bellman_ford() {
    memset(dist, 0x3f, sizeof dist);  dist[1] = 0;
    for (int i = 0; i < k; i++) {//kæ¬¡å¾ªç¯
        memcpy(back, dist, sizeof dist);
        for (int j = 0; j < m; j++) {//éå†æ‰€æœ‰è¾¹
            int a = e[j].a, b = e[j].b, w = e[j].w;
            dist[b] = min(dist[b], back[a] + w);  //ä½¿ç”¨backup:é¿å…ç»™aæ›´æ–°åç«‹é©¬æ›´æ–°b, è¿™æ ·bä¸€æ¬¡æ€§æœ€çŸ­è·¯å¾„å°±å¤šäº†ä¸¤æ¡è¾¹å‡ºæ¥
        }
    }
    if (dist[n] > 0x3f3f3f3f / 2) return -1;
    else return dist[n];
}
```

## spfa ç®—æ³•ï¼ˆé˜Ÿåˆ—ä¼˜åŒ–çš„Bellman-Fordç®—æ³•ï¼‰

æ—¶é—´å¤æ‚åº¦ å¹³å‡æƒ…å†µä¸‹$O(m)$ï¼Œæœ€åæƒ…å†µä¸‹$$O(nm)$$ï¼Œnè¡¨ç¤ºç‚¹æ•°ï¼Œ$m$è¡¨ç¤ºè¾¹æ•°ã€‚SPFAç®—æ³•ä¸­ä½¿ç”¨çš„æ˜¯é˜Ÿåˆ—,ç›®çš„åªæ˜¯è®°å½•ä¸€ä¸‹å½“å‰å‘ç”Ÿè¿‡æ›´æ–°çš„ç‚¹ã€‚Bellman_fordç®—æ³•é‡Œæœ€åreturn-1çš„åˆ¤æ–­æ¡ä»¶å†™çš„æ˜¯dist[n]>0x3f3f3f3f/2;è€Œspfaç®—æ³•å†™çš„æ˜¯dist[n]==0x3f3f3f3fã€‚SPFAç®—æ³•ä¸­çš„stæ•°ç»„ä»…ä»…åªæ˜¯è¡¨ç¤ºçš„å½“å‰å‘ç”Ÿè¿‡æ›´æ–°çš„ç‚¹ï¼Œä¸”spfaä¸­çš„stæ•°ç»„å¯é€†(å¯ä»¥åœ¨æ ‡è®°ä¸ºtrueä¹‹ååˆæ ‡è®°ä¸ºfalse)

```C++
void SPFA(){
    memset(h,-1,sizeof h); memset(d,0x3f,sizeof d);  queue<int>q; q.push(1);  d[1]=0; st[1]=true;
    while(q.size()){   //ä»é˜Ÿåˆ—ä¸­å–å‡ºæ¥ä¹‹åè¯¥èŠ‚ç‚¹stè¢«æ ‡è®°ä¸ºfalse,ä»£è¡¨ä¹‹åè¯¥èŠ‚ç‚¹å¦‚æœå‘ç”Ÿæ›´æ–°å¯å†æ¬¡å…¥é˜Ÿ
        int t=q.front(); q.pop();   st[t]=false;
        for(int i=h[t];i!=-1;i=ne[i]){
            int j=e[i];
            if(d[j]>d[t]+w[i]){  //å°½å¯èƒ½çš„åšæ¾å¼›æ“ä½œï¼Œå¦‚æœå¯ä»¥è¿›è¡Œæ¾å¼›
                d[j]=d[t]+w[i];
                if(!st[j]){  //å½“å‰å·²ç»åŠ å…¥é˜Ÿåˆ—çš„ç»“ç‚¹ï¼Œæ— éœ€å†æ¬¡åŠ å…¥é˜Ÿåˆ—ï¼Œå³ä¾¿å‘ç”Ÿäº†æ›´æ–°ä¹Ÿåªç”¨æ›´æ–°æ•°å€¼å³å¯
                    st[j]=true;   q.push(j);
                }
            }
        }
    }
    if(d[n]==0x3f3f3f3f )  puts("impossible");
    else cout<<d[n]<<endl;
}
```

## spfaåˆ¤æ–­å›¾ä¸­æ˜¯å¦å­˜åœ¨è´Ÿç¯

```C++
bool spfa(){ // å¦‚æœå­˜åœ¨è´Ÿç¯ï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚
    // åŸç†ï¼šå¦‚æœæŸæ¡æœ€çŸ­è·¯å¾„ä¸Šæœ‰nä¸ªç‚¹ï¼ˆé™¤äº†è‡ªå·±ï¼‰ï¼Œé‚£ä¹ˆåŠ ä¸Šè‡ªå·±ä¹‹åä¸€å…±æœ‰n+1ä¸ªç‚¹ï¼Œç”±æŠ½å±‰åŸç†ä¸€å®šæœ‰ä¸¤ä¸ªç‚¹ç›¸åŒï¼Œæ‰€ä»¥å­˜åœ¨ç¯ã€‚
    queue<int> q;
    for (int i = 1; i <= n; i ++ ) {
        q.push(i);  st[i] = true;
    }
    while (q.size()) {
        auto t = q.front();  q.pop();  st[t] = false;
        for (int i = h[t]; i != -1; i = ne[i])  {
            int j = e[i];
            if (dist[j] > dist[t] + w[i])  {
                dist[j] = dist[t] + w[i];
                cnt[j] = cnt[t] + 1;
                if (cnt[j] >= n) return true;  // å¦‚æœä»1å·ç‚¹åˆ°xçš„æœ€çŸ­è·¯ä¸­åŒ…å«è‡³å°‘nä¸ªç‚¹ï¼ˆä¸åŒ…æ‹¬è‡ªå·±ï¼‰ï¼Œåˆ™è¯´æ˜å­˜åœ¨ç¯
                if (!st[j]) {
                    q.push(j);   st[j] = true;
                }
            }
        }
    }
    return false;
}
```

## floydç®—æ³•

æ—¶é—´å¤æ‚åº¦$O(n^3)$ï¼Œnè¡¨ç¤ºç‚¹æ•°

```C++
void floyd() {
    for(int k = 1; k <= n; k++)
        for(int i = 1; i <= n; i++)
            for(int j = 1; j <= n; j++)
                d[i][j] = min(d[i][j], d[i][k] + d[k][j]);
}
int main() {
    for(int i = 1; i <= n; i++)
        for(int j = 1; j <= n; j++)
            if(i == j) d[i][j] = 0;
            else d[i][j] = INF;
    while(m--) {
        cin >> x >> y >> z;
        d[x][y] = min(d[x][y], z);
    }
    floyd();
    while(k--) {
        cin >> x >> y;
        if(d[x][y] > INF/2) puts("impossible");
        else cout << d[x][y] << endl;
    }
    return 0;
}
```

## Primç®—æ³•æ±‚æœ€å°ç”Ÿæˆæ ‘

```C++
void prim(){
    memset(g,0x3f,sizeof g);  memset(d,0x3f,sizeof d); d[1]=0; int ans=0;
    for(int k=0;k<n;k++){
        int t=-1;
        for(int i=1;i<=n;i++)
            if(!st[i] && (t==-1 || d[t]>d[i]))  t=i;
        
        st[t]=true;
        if(d[t]==0x3f3f3f3f) {
            puts("impossible");  return ;
        }
        ans+=d[t];
        for(int i=1;i<=n;i++)
            d[i]=min(d[i],g[t][i]);
    }
    cout<<ans<<endl;
    return ;
}
```

## Kruskalç®—æ³• 

æ—¶é—´å¤æ‚åº¦$O(mlogm)$ï¼Œnè¡¨ç¤ºç‚¹æ•°ï¼Œmè¡¨ç¤ºè¾¹æ•°

```C++
struct E{
    int a,b,w;
    bool operator < (const E & e) const {
        return w < e.w;
    }

}e[N];
void Kruskal(){
    int ans=0;   int cnt=0;
    for(int i=0;i<m;i++){
        int a=find(e[i].a)  ,b=find(e[i].b)  ,w=e[i].w;
        if(a!=b){
            p[a]=b;  ans+=w;  cnt++;
            if(cnt==n-1) {
                cout<<ans<<endl;
                return ;
            }
        }
    }
    puts("impossible");
    return ;
}
```

## æŸ“è‰²æ³•åˆ¤åˆ«äºŒåˆ†å›¾

æ—¶é—´å¤æ‚åº¦$O(n+m)$ï¼Œnè¡¨ç¤ºç‚¹æ•°ï¼Œmè¡¨ç¤ºè¾¹æ•°

```C++
int n;      // nè¡¨ç¤ºç‚¹æ•°
int h[N], e[M], ne[M], idx;     // é‚»æ¥è¡¨å­˜å‚¨å›¾
int color[N];       // è¡¨ç¤ºæ¯ä¸ªç‚¹çš„é¢œè‰²ï¼Œ-1è¡¨ç¤ºæœªæŸ“è‰²ï¼Œ0è¡¨ç¤ºç™½è‰²ï¼Œ1è¡¨ç¤ºé»‘è‰²

// å‚æ•°ï¼šuè¡¨ç¤ºå½“å‰èŠ‚ç‚¹ï¼Œcè¡¨ç¤ºå½“å‰ç‚¹çš„é¢œè‰²
bool dfs(int u, int c)
{
    color[u] = c;
    for (int i = h[u]; i != -1; i = ne[i])
    {
        int j = e[i];
        if (color[j] == -1)
        {
            if (!dfs(j, !c)) return false;
        }
        else if (color[j] == c) return false;
    }

    return true;
}

bool check()
{
    memset(color, -1, sizeof color);
    bool flag = true;
    for (int i = 1; i <= n; i ++ )
        if (color[i] == -1)
            if (!dfs(i, 0))
            {
                flag = false;
                break;
            }
    return flag;
}
```

## åŒˆç‰™åˆ©ç®—æ³• 

æ—¶é—´å¤æ‚åº¦$O(nm)$ï¼Œnè¡¨ç¤ºç‚¹æ•°ï¼Œmè¡¨ç¤ºè¾¹æ•°

```C++
int n1, n2;     // n1è¡¨ç¤ºç¬¬ä¸€ä¸ªé›†åˆä¸­çš„ç‚¹æ•°ï¼Œn2è¡¨ç¤ºç¬¬äºŒä¸ªé›†åˆä¸­çš„ç‚¹æ•°
int h[N], e[M], ne[M], idx;     // é‚»æ¥è¡¨å­˜å‚¨æ‰€æœ‰è¾¹ï¼ŒåŒˆç‰™åˆ©ç®—æ³•ä¸­åªä¼šç”¨åˆ°ä»ç¬¬ä¸€ä¸ªé›†åˆæŒ‡å‘ç¬¬äºŒä¸ªé›†åˆçš„è¾¹ï¼Œæ‰€ä»¥è¿™é‡Œåªç”¨å­˜ä¸€ä¸ªæ–¹å‘çš„è¾¹
int match[N];       // å­˜å‚¨ç¬¬äºŒä¸ªé›†åˆä¸­çš„æ¯ä¸ªç‚¹å½“å‰åŒ¹é…çš„ç¬¬ä¸€ä¸ªé›†åˆä¸­çš„ç‚¹æ˜¯å“ªä¸ª
bool st[N];     // è¡¨ç¤ºç¬¬äºŒä¸ªé›†åˆä¸­çš„æ¯ä¸ªç‚¹æ˜¯å¦å·²ç»è¢«éå†è¿‡

bool find(int x)
{
    for (int i = h[x]; i != -1; i = ne[i])
    {
        int j = e[i];
        if (!st[j])
        {
            st[j] = true;
            if (match[j] == 0 || find(match[j]))
            {
                match[j] = x;
                return true;
            }
        }
    }

    return false;
}

// æ±‚æœ€å¤§åŒ¹é…æ•°ï¼Œä¾æ¬¡æšä¸¾ç¬¬ä¸€ä¸ªé›†åˆä¸­çš„æ¯ä¸ªç‚¹èƒ½å¦åŒ¹é…ç¬¬äºŒä¸ªé›†åˆä¸­çš„ç‚¹
int res = 0;
for (int i = 1; i <= n1; i ++ )
{
    memset(st, false, sizeof st);
    if (find(i)) res ++ ;
}
```

#### 01èƒŒåŒ…é—®é¢˜â€”â€”æ¯ä»¶ç‰©å“åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚

```c++
	cin>>n>>m;
    for(int i=1;i<=n;i++) cin>>v[i]>>w[i];
    for(int i=1;i<=n;i++)
        for(int j=m;j>=v[i];j--)   //æ³¨æ„é€†åºï¼ï¼ï¼
            f[j] = max(f[j],f[j-v[i]]+w[i]);  //çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼šf[j] = max(f[j], f[j - v[i]] + w[i])

    cout<<f[m]<<endl;
// f[i][j] = max(f[i][j],f[i-1][j-v[i]]+w[i]); //01èƒŒåŒ…
// é€‰ï¼šf[i][j] = f[i - 1][j - v[i]] + w[i]
// ä¸é€‰ï¼šf[i][j] = f[i - 1][j] 
```

#### å®Œå…¨èƒŒåŒ…é—®é¢˜â€”â€”æ¯ç§ç‰©å“éƒ½æœ‰æ— é™ä»¶å¯ç”¨

```c++
    for(int i=1;i<=n;i++) cin>>v[i]>>w[i];
    for(int i=1;i<=n;i++)
        for(int j=v[i];j<=m;j++)
            f[j] = max(f[j],f[j-v[i]]+w[i]);

    cout<<f[m]<<endl;
//  f[i][j] = max(f[i][j],f[i][j-v[i]]+w[i]);//å®Œå…¨èƒŒåŒ…é—®é¢˜
// f[i , j ] = max( f[i-1,j] , f[i-1,j-v]+w ,  f[i-1,j-2*v]+2*w , f[i-1,j-3*v]+3*w , .....)
// f[i , j-v]= max(            f[i-1,j-v]   ,  f[i-1,j-2*v] + w , f[i-1,j-3*v]+2*w , .....)
// ç”±ä¸Šä¸¤å¼ï¼Œå¯å¾—å‡ºå¦‚ä¸‹é€’æ¨å…³ç³»ï¼š  f[i][j]=max( f[i-1][j] ,f[i,j-v]+w ) 
```

#### å¤šé‡èƒŒåŒ…é—®é¢˜ â€”â€”ç¬¬ ğ‘– ç§ç‰©å“æœ€å¤šæœ‰ $s_i$ ä»¶

```c++
 // æ³¨æ„è¿™é‡Œçš„Nè¦å¼€åˆ°N * log(S),å› ä¸ºéœ€è¦æŠŠç‰©å“çš„ä¸ªæ•°äºŒè¿›åˆ¶è½¬
    cin>>n>>m;
    int cnt=0;
    for(int i=1;i<=n;i++){
        int a,b,s;
        cin>>a>>b>>s;
        int t=1;
        while(t<=s){
            cnt++ , v[cnt]=t*a , w[cnt]=t*b  , s-=t  ,t*=2;
        }
        if(s>0) {
            cnt++  , v[cnt]=s*a  ,w[cnt]=s*b;
        }
    }

    for(int i=1;i<=cnt;i++)
        for(int j=m;j>=v[i];j--)
            f[j]=max(f[j],f[j-v[i]]+w[i]);

```

#### åˆ†ç»„èƒŒåŒ…é—®é¢˜â€”â€”åŒä¸€ç»„å†…çš„ç‰©å“æœ€å¤šåªèƒ½é€‰ä¸€ä¸ª

```c++
    cin>>n>>m;   
    for(int i=1;i<=n;i++){
        cin>>s[i];
        for(int j=1;j<=s[i];j++) cin>>v[i][j]>>w[i][j];
    }

    for(int i=1;i<=n;i++)
        for(int j=m;j>=0;j--)
            for(int k=0;k<=s[i];k++)
                if(j>=v[i][k]) f[j]=max(f[j],f[j-v[i][k]]+w[i][k]); 
     //  f[i][j]=max(f[i][j],f[i-1][j-v[i][k]]+w[i][k]);

    cout<<f[m]<<endl;

```

#### æ•°å­—ä¸‰è§’å½¢

```c++
    for(int i=1;i<=n;i++)
        for(int j=1;j<=i;j++)
            cin>>a[i][j];

    for(int i=0;i<=n+5;i++)
        for(int j=0;j<=n+5;j++)  //å› ä¸ºæœ‰è´Ÿæ•°ï¼Œæ‰€ä»¥åº”è¯¥å°†ä¸¤è¾¹ä¹Ÿè®¾ä¸º-INF
            f[i][j]=-1e9;
    
    f[1][1]=a[1][1];
    for(int i=2;i<=n;i++)
        for(int j=1;j<=i;j++)
            f[i][j]=max(f[i-1][j-1],f[i-1][j])+a[i][j];

    int ans=-1e9;  //å› ä¸ºæœ‰è´Ÿæ•°ï¼Œæ³¨æ„æœ€å°å€¼è®¾ç½®
    for(int i=1;i<=n;i++) ans=max(ans,f[n][i]);
    cout<<ans<<endl;

```

#### æœ€é•¿ä¸Šå‡å­åºåˆ—

```c++
    for(int i=1;i<=n;i++)   cin>>a[i];
    vector<int> num;  // nums åºåˆ—ä¸ºæœ€é•¿å­åºåˆ—
    for(int i=1;i<=n;i++){
        auto t=lower_bound(num.begin(),num.end(),a[i]);  // äºŒåˆ†æ³•æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºç­‰äº nums[i] çš„å…ƒç´ çš„ä½ç½®
        if(t==num.end()) num.push_back(a[i]); // å¦‚æœæ²¡æ‰¾åˆ°ï¼Œå°±æŠŠ nums[i] ç›´æ¥åŠ å…¥åˆ° é€’å¢æ•°ç»„
        else { *t=a[i];  } // å¦åˆ™ï¼Œç”¨ nums[i] æ›¿æ¢è¯¥ä½ç½®å…ƒç´  
    }
    cout<<num.size()<<endl;  // é€’å¢æ•°ç»„çš„é•¿åº¦å°±æ˜¯æœ€é•¿å­åºåˆ—çš„é•¿åº¦
```

#### æœ€é•¿å…¬å…±å­åºåˆ—

```c++
    cin>>n>>m>>a+1>>b+1;   
    for(int i=1;i<=n;i++){
        for(int j=1;j<=m;j++){
            if(a[i]==b[j]) f[i][j]=max(f[i][j],f[i-1][j-1]+1);
            else f[i][j]=max(f[i-1][j],f[i][j-1]);
        }
    }
    cout<<f[n][m]<<endl;
```

#### ç¼–è¾‘è·ç¦»

```c++
    cin>>n>>a+1>>m>>b+1;    //å°†a[1~i]å˜æˆb[1~j]çš„æ“ä½œæ–¹å¼
    memset(f,0x3f,sizeof f);
    for(int i=0;i<=n;i++) f[i][0]=i; //è¾¹ç•Œï¼Œa å­—ç¬¦ä¸²çš„å‰ i ä¸ªå­—ç¬¦å˜ä¸º b å­—ç¬¦ä¸²çš„å‰ 0 ä¸ªå­—ç¬¦ï¼Œéœ€è¦ i æ­¥
    for(int i=0;i<=m;i++) f[0][i]=i;//è¾¹ç•Œï¼Œa å­—ç¬¦ä¸²çš„å‰ 0 ä¸ªå­—ç¬¦å˜ä¸º b å­—ç¬¦ä¸²çš„å‰ i ä¸ªå­—ç¬¦ï¼Œéœ€è¦ i æ­¥
    for(int i=1;i<=n;i++){
        for(int j=1;j<=m;j++){   
            f[i][j]= min(f[i-1][j],f[i][j-1])+1;
            f[i][j]=min(f[i][j],f[i-1][j-1]+(a[i]!=b[j]));
        }
    }
    cout<<f[n][m]<<endl;
```

#### çŸ³å­åˆå¹¶â€”â€”åŒºé—´DP

```c++
    memset(f,0x3f,sizeof f);
    for(int i=1;i<=n;i++) {
        cin>>a[i];
        a[i]+=a[i-1];   //å‰ç¼€å’Œè®¡ç®—
        f[i][i]=0;  // è¾¹ç•Œåˆå§‹åŒ–
    }
    for(int len=2;len<=n;len++){  // åŒºé—´ DP æšä¸¾å¥—è·¯ï¼šé•¿åº¦+å·¦ç«¯ç‚¹ 
        for(int i=1;i+len-1<=n;i++){
            int j=i+len-1; // è‡ªåŠ¨å¾—åˆ°å³ç«¯ç‚¹
            for(int k=i;k<j;k++)   //æšä¸¾åˆ†æ®µç‚¹ k
                f[i][j]=min(f[i][j],f[i][k]+f[k+1][j]+a[j]-a[i-1]); //æ³¨æ„(k+1,j) è€Œä¸æ˜¯(k,j)
        }
    }
    cout<<f[1][n]<<endl;

```

### æ•´æ•°åˆ’åˆ†â€”â€”è®¡æ•°DP

```c++
    f[0]=1;  // å®¹é‡ä¸º0æ—¶ï¼Œå‰ i ä¸ªç‰©å“å…¨ä¸é€‰ä¹Ÿæ˜¯ä¸€ç§æ–¹æ¡ˆ
    for(int i=1;i<=n;i++)
        for(int j=i;j<=n;j++)
            f[j]=(f[j]+f[j-i]) %M;  //å®Œå…¨èƒŒåŒ…çš„å˜å½¢ï¼Œå¯¹äºæ–¹æ¡ˆæ•°=é€‰ä¸ä¸é€‰iè¿™ä¸ªç‰©å“çš„ä¹‹å’Œ

    cout<<f[n]<<endl;
```

